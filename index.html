<!doctype html>
<body>
<script>

function Horse(start, finish, walls) {
	
  var SIZE = 1000;

  var board =[];
  var status=[];
  var father=[];

  var queue = [];
  var start=[start[0],start[1]];

  for (var i = 0; i < SIZE ; i++) {
  	board[i]=[];
  	status[i]=[];
  	father[i]=[];
    for (var j = 0; j < SIZE ; j++) {
      	board[i][j]=0//walls[j][i];
    }
  };

  queue.push(start);

  while (queue.length != 0 && board[finish[0]][finish[1]]==0) {

    var curr = queue.shift();
    var i = curr[0];
    var j = curr[1];
    status[i][j]=2;

    var neighbors = [[i - 1, j - 2], [i - 2, j - 1], [i - 2, j + 1], [i - 1, j + 2], [i + 1, j + 2], [i + 2, j + 1], [i + 2, j - 1], [i + 1, j - 2]];

    for (var k = 0; k < neighbors.length; k++) {
      var neighbor = neighbors[k];
      var iNr=neighbor[0];
      var jNr=neighbor[1];
 
      if (  iNr >= 0 && iNr<SIZE && jNr >= 0 && jNr<SIZE && status[iNr][jNr]!=2 &&  board[iNr][jNr]!=-1 ) {
      	
      	if (status[iNr][jNr]!=1){
      		queue.push(neighbor);
      		status[iNr][jNr]=1;
      	};
        board[iNr][jNr] = board[i][j] + 1;
        father[iNr][jNr]=[i,j];
      };
    };
  };
  var road=[];
  function path(fPath)
	{
	    road.unshift(fPath);
		if(fPath)
		{   
			return path(father[fPath[0]][fPath[1]])
		};
		return start;
	}
	path([finish[0] , finish[1]]);
	road.shift();
	console.log(board[finish[0] ][finish[1]]);

	}
   

var walls=
[
  [0,0,0,0,0],
  [0,0,0,-1,0],
  [-1,0,0,0,-1],
  [0,0,0,0,0],
  [-1,0,0,0,0]
];

console.time('test');

Horse([0,0], [999, 999], walls);

console.timeEnd('test');
</script>

